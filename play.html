<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Joue le D√©fi üïπ</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container fade-in">
    <h2>D√©fi de <span id="hostName"></span></h2>
    <p>Entre ton nom pour jouer :</p>
    <input id="friendName" type="text" placeholder="Ton pr√©nom...">
    <button onclick="startPlay()">Commencer</button>
  </div>

  <div class="container hidden" id="quizSection">
    <h3>Questions :</h3>

    <div class="question">
      <p>1Ô∏è‚É£ Quelle est sa boisson pr√©f√©r√©e ?</p>
      <select id="a1">
        <option>Caf√©</option>
        <option>Jus</option>
        <option>Eau</option>
        <option>Soda</option>
      </select>
    </div>

    <div class="question">
      <p>2Ô∏è‚É£ Quelle couleur pr√©f√®re-t-il ?</p>
      <select id="a2">
        <option>Rouge</option>
        <option>Bleu</option>
        <option>Noir</option>
        <option>Blanc</option>
      </select>
    </div>

    <button onclick="checkAnswers()">Voir mes r√©sultats</button>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const host = params.get('host');
    document.getElementById('hostName').innerText = host;

    function startPlay() {
      const name = document.getElementById('friendName').value.trim();
      if (!name) return alert('Entre ton pr√©nom !');
      document.querySelector('.container').classList.add('hidden');
      document.getElementById('quizSection').classList.remove('hidden');
      localStorage.setItem('friendName', name);
    }

    function checkAnswers() {
      const saved = JSON.parse(localStorage.getItem('answers'));
      const score =
        (saved.q1 === document.getElementById('a1').value ? 1 : 0) +
        (saved.q2 === document.getElementById('a2').value ? 1 : 0);

      const friend = localStorage.getItem('friendName');
      alert(`üéâ ${friend}, tu as obtenu ${score}/2 au d√©fi de ${host}!`);
    }
  </script>
</body>
</html>